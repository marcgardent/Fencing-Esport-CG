# ü§∫Fencing ESport - CodinGame Edition

> Puzzle published on codingame.com

<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.

DevTools:
* IDE: Intelij
* Graphics: infinity Designer
* Sprite generator https://www.leshylabs.com/apps/sstool/

## üéØ The Goal

Touch your opponent and manage your energy to score `20` points!

## ‚úîÔ∏è Rules

### üñºÔ∏è Overview of rules

  <img src="https://github.com/marcgardent/Fencing-Esport-CG/raw/lite/main/dist/fencing-esport-overview.png" alt="overview" width="100%" style="width:100%"/>

### üèÜ Victory Conditions

* Score more points than your opponent at games end.
* The victory is decisive when you score `20` points at least `2` points apart.

### ‚ò†Ô∏è Defeat Conditions

* Score fewer points than your opponent at games end.
* In some cases, you lose the game, and you are *disqualified*:
    * forfeit: when you run out of energy.
    * non-combativity: when you and the opponent don't score any point at games end - `200` turns.
* issues:
    * you do not respond in due time - `50` ms.
    * you write an invalid `COMMAND`.
* doping: when you consume more than `7` drugs.

### üèÖ Ranking Agents

> This is used only for the *Codingame* leaderboard.

Three different cases:

* The win: `1` point
* The defeat: `0` point
* Disqualified: `-1` point

### Actions

The two players choose only one action simultaneously:

* `BREAK`: energy=`+1`, `+2`, `+3`, `+4`, `+5`
* `WALK`: move=`[+1, +50]`
* `RETREAT`: energy=`-1` move=`[+1, +50]`
* `LUNGE`: attack=`[+1, +50]`
* `PARRY`: defence=`[+1, +50]`


let me explain the behaviour of each property:

* **energy**:  consumes or produces  the energy  - in the range [`0`,`20`]
* **move**: applies a movement to your character in the range [`0`,`500`].
* **distance**: applies an attack or an defence, read &sect;Assault for more details.
* **energyTransfer**: transfers the quantity from your opponent to you.

### Resolutions

* The action's energy is consumed or produced in any cases.
* You declare forfeit when you run out of energy.
* The players respawn when:
    * they collide: `myPosition` > `yourPosition`
    * an assault is succeeded.
    * a player is outside.
* The opponent score `1` point when you are moved outside of the Off.
* The players score both when they touch simultaneously: `LUNGE` Vs `LUNGE`.

### Assaults

Assault resolution depends on the positions and distances of the `ACTIONS`:

```speudocode
fn isTouchedWhenLunge(striker:Player, defender:Player) ->
  Abs(striker.position - defender.position) >= striker.lungeDistance;


fn isTouchedWhenLungeParry(striker:Player, defender:Player) ->
  Abs(striker.position - defender.position) >= striker.lungeDistance + defender.parryDistance;
```

two use cases, bellow:

```speudocode
ILungeAndOpponentDefends = isTouchedWhenLungeParry(me, opponent)
OpponentLunges = isTouchedWhenLunge(opponent, me)
```

## üßæ Game Protocol

### üëÄ Input for One Game Turn

#### üìë Line 1, my data: variables separated by a space

`position` `energy` `score`

#### üìë Line 2, opponent data: variables separated by a space

`position` `energy` `score`

### ‚öì Input Constraints

* `energy`: range [`0`, `20`], init `20`
* `position`: range [ `0`,`500`], respawn (me: `200`, opponent: `300`)
* `score`: range [ `0`, `+‚àû`], init `0`

### üí¨ Output for One Game Turn

#### üìë Line 1: Only one string

* `BREAK`: energy=`+2`
* `WALK`: energy=`-1` move=`+20`
* `RETREAT`: energy=`-1` move=`-20`
* `LUNGE`: energy=`-5` distance=`+40`
* `PARRY`: energy=`-2` distance=`-40` energyTransfer=`2`

## üíΩ Raw Data

### League 1+

|code|energy|energy transfer|move|distance|drug(league3)|league|
|---|---|---|---|---|---|---|
|`BREAK`|`+2`|`0`|`0`|`0`|`0`|`1`|
|`WALK`|`-1`|`0`|`+20`|`0`|`0`|`1`|
|`DOUBLE_WALK`|`-4`|`0`|`+40`|`0`|`0`|`2`|
|`RETREAT`|`-1`|`0`|`-20`|`0`|`0`|`1`|
|`DOUBLE_RETREAT`|`-4`|`0`|`-30`|`0`|`0`|`2`|
|`LUNGE`|`-5`|`0`|`0`|`+40`|`0`|`1`|
|`PARRY`|`-2`|`2`|`0`|`-40`|`0`|`1`|

## Credits & Licenses

> Thank you to the reviewers and players for your contributions.

* this document is generated by [markdown2cgdoc](https://github.com/marcgardent/markdown2cgdoc)
* Code Source: (https://github.com/marcgardent/Fencing-Esport-CG)
* This puzzle game is published under the following license: [License CC BY-SA 4.0](http://creativecommons.org/licenses/by-sa/4.0/)
* spade-skull graphic https://game-icons.net/1x1/lorc/spade-skull.html : by Lorc under CC BY 3.0
* Others assets: [IG @ludopant](https://www.instagram.com/ludopant/) 
